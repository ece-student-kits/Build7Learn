"use strict";(globalThis.webpackChunkstm_32_documentaion=globalThis.webpackChunkstm_32_documentaion||[]).push([[7205],{671(e,n,i){i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"STM32/PWM_LED/PWM_LED","title":"LED Brightness Control(PWM)","description":"Task: Control Inbuilt LED Brightness using PWM","source":"@site/docs/STM32/PWM_LED/PWM_LED.md","sourceDirName":"STM32/PWM_LED","slug":"/STM32/PWM_LED/","permalink":"/Build7Learn/docs/STM32/PWM_LED/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/STM32/PWM_LED/PWM_LED.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Code","permalink":"/Build7Learn/docs/STM32/LM35/Code"},"next":{"title":"ServoMotor","permalink":"/Build7Learn/docs/STM32/ServoMotor/"}}');var s=i(4848),r=i(8453);const o={},c="LED Brightness Control(PWM)",l={},d=[{value:"Steps:-",id:"steps-",level:2},{value:"Step 1: Create a STM32 Project &quot;PWM_LED&quot;",id:"step-1-create-a-stm32-project-pwm_led",level:3},{value:"Step 2: Clock Configuration",id:"step-2-clock-configuration",level:3},{value:"Step 3: Pinout &amp; Configuration",id:"step-3-pinout--configuration",level:3},{value:"Timer Configuration- TIM2",id:"timer-configuration--tim2",level:4},{value:"Step 3: Code Snippet to Control Brightness of LED using PWM",id:"step-3-code-snippet-to-control-brightness-of-led-using-pwm",level:3}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"led-brightness-controlpwm",children:"LED Brightness Control(PWM)"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"Task: Control Inbuilt LED Brightness using PWM"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://www.youtube.com/watch?si=7hth3Sx5RFlsIIXU&v=iXWyISYmeQ0&feature=youtu.be",children:"Docs"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Image",src:i(8441).A+"",width:"716",height:"202"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"steps-",children:"Steps:-"}),"\n",(0,s.jsx)(n.h3,{id:"step-1-create-a-stm32-project-pwm_led",children:'Step 1: Create a STM32 Project "PWM_LED"'}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Create a new project & initialize all pheripherals in default configuration"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"step-2-clock-configuration",children:"Step 2: Clock Configuration"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The system clock is set at ",(0,s.jsx)(n.strong,{children:"180 Mhz"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Image",src:i(9835).A+"",width:"1112",height:"275"})}),"\n",(0,s.jsx)(n.h3,{id:"step-3-pinout--configuration",children:"Step 3: Pinout & Configuration"}),"\n",(0,s.jsx)(n.h4,{id:"timer-configuration--tim2",children:"Timer Configuration- TIM2"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Image",src:i(2192).A+"",width:"1364",height:"596"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Mode:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Select the ",(0,s.jsx)(n.code,{children:"PWM Generation CH1"}),", in ",(0,s.jsx)(n.strong,{children:"Channel 1"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Configuration:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Under parameter settings:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Set ",(0,s.jsx)(n.strong,{children:"Prescalar"})," value as ",(0,s.jsx)(n.code,{children:"180-1"})]}),"\n",(0,s.jsxs)(n.li,{children:["Set ",(0,s.jsx)(n.strong,{children:"Counter Period"})," as ",(0,s.jsx)(n.code,{children:"255-1"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Pinout:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Click the Pin ",(0,s.jsx)(n.code,{children:"PA5"})," and set it as ",(0,s.jsx)(n.code,{children:"TIM2_CH1"})]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"step-3-code-snippet-to-control-brightness-of-led-using-pwm",children:"Step 3: Code Snippet to Control Brightness of LED using PWM"}),"\n",(0,s.jsxs)(n.p,{children:["Paste the following code snippet inside the ",(0,s.jsx)(n.code,{children:"/* USER CODE BEGIN 2 */"})," loop in ",(0,s.jsx)(n.code,{children:"main.c"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c",children:"HAL_TIM_PWM_Start(&htim2,TIM_CHANNEL_1);\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Paste the following code snippet inside the ",(0,s.jsx)(n.code,{children:"while (1)"})," loop in ",(0,s.jsx)(n.code,{children:"main.c"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c",children:"for(int i=0; i<255; i++){\n    __HAL_TIM_SET_COMPARE(&htim2, TIM_CHANNEL_1, i);\n    HAL_Delay(5);\n}\nfor(int i=255; i>0; i--){\n    __HAL_TIM_SET_COMPARE(&htim2, TIM_CHANNEL_1, i);\n    HAL_Delay(5);\n}\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},9835(e,n,i){i.d(n,{A:()=>t});const t=i.p+"assets/images/1-3847305c165576bfbbe6d693881091ca.png"},2192(e,n,i){i.d(n,{A:()=>t});const t=i.p+"assets/images/2-2ab31f37e2635a843e33a29bffc7c8c6.png"},8441(e,n,i){i.d(n,{A:()=>t});const t=i.p+"assets/images/3-4717bb2c30244133a07769b8e46ad3c5.png"},8453(e,n,i){i.d(n,{R:()=>o,x:()=>c});var t=i(6540);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);